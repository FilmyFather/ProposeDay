<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Propose Day ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  height:100vh;
  overflow:hidden;
  font-family:Poppins,sans-serif;
  background:linear-gradient(135deg,#ffd1e8,#f5d9ff,#ffe6f2);
}

/* pages */
.page{
  display:none;
  height:100%;
  width:100%;
  align-items:center;
  justify-content:center;
  padding:20px;
  flex-direction: column;
}
.page.active{display:flex}

/* glass card */
.card{
  width:100%;
  max-width:420px;
  background:rgba(255,255,255,.25);
  backdrop-filter:blur(18px);
  border-radius:28px;
  padding:24px;
  text-align:center;
  box-shadow:0 30px 70px rgba(0,0,0,.18);
  border: 1px solid rgba(255,255,255,0.3);
  position: relative;
}

.gif{ width:120px; height:120px; border-radius:50%; object-fit:cover; margin-bottom: 15px; }

/* Buttons */
.btn-container { display: flex; justify-content: center; gap: 15px; margin-top: 20px; position: relative; }
.btn{
  padding:14px 22px; border:none; border-radius:20px;
  background:linear-gradient(135deg,#ff6fb1,#ff9fd6);
  color:#fff; font-weight:600; cursor: pointer; transition: 0.3s;
}

/* Quiz Styles */
.option{ padding:12px; border-radius:18px; background:rgba(255,255,255,.45); margin-top:10px; cursor: pointer; }
.option.right{ background:#6dff9a !important; }
.option.wrong{ background:#ff6b6b !important; animation:shake .3s; }

/* Ring Hunt - Fixed Grid */
.grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:12px; margin-top:20px; }
.cell{ font-size:32px; padding:18px; border-radius:16px; background:rgba(255,255,255,.45); cursor: pointer; }

/* Game Box Page 5 */
#game-box {
    width: 280px; height: 300px; background: rgba(255,255,255,0.3);
    border: 2px dashed #ff6fb1; margin: 15px auto; position: relative;
    overflow: hidden; border-radius: 15px; display: none;
}
.game-heart { position: absolute; font-size: 25px; cursor: pointer; user-select: none; }
.progress-container { width: 100%; height: 15px; background: #eee; border-radius: 10px; margin: 15px 0; overflow: hidden; display:none; }
#progress-bar { width: 0%; height: 100%; background: #ff6fb1; transition: 0.3s; }

/* Page 6: Letter */
.envelope-wrapper { position: relative; width: 200px; height: 150px; background: #ff9fd6; margin: 20px auto; cursor: pointer; border-radius: 0 0 10px 10px; }
.envelope-flap { 
    position: absolute; top: 0; left: 0; width: 0; height: 0; 
    border-left: 100px solid transparent; border-right: 100px solid transparent;
    border-top: 80px solid #ff6fb1; transform-origin: top; transition: 0.6s; z-index: 3;
}
.letter {
    position: absolute; bottom: 5px; left: 10px; width: 180px; height: 130px;
    background: #fff9f0; padding: 10px; border-radius: 5px; transition: 0.8s;
    z-index: 2; overflow-y: auto; text-align: left; font-family: 'Pacifico', cursive; font-size: 12px;
}
.envelope-wrapper.open .envelope-flap { transform: rotateX(180deg); z-index: 1; }
.envelope-wrapper.open .letter { transform: translateY(-120px); height: 250px; width: 280px; left: -40px; z-index: 5; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }

/* Page 7: Memories */
#photo-list { height: 400px; overflow-y: auto; padding: 10px; }
.mem-img { width: 100%; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); cursor: pointer; }
.modal { display:none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:100; align-items:center; justify-content:center; }
.modal img { max-width: 90%; max-height: 80%; border-radius: 10px; }

/* Floating Hearts */
.heart-bg{ position:fixed; bottom:-20px; opacity:.35; font-size:14px; animation:float 10s linear infinite; pointer-events: none; }
@keyframes float{ to{transform:translateY(-110vh) translateX(20px)} }
@keyframes shake{ 0%,100%{transform:translateX(0)} 25%{transform:translateX(-6px)} 75%{transform:translateX(6px)} }
</style>
</head>
<body>

<script>
for(let i=0;i<15;i++){
 let h=document.createElement("div");
 h.className="heart-bg"; h.innerText="‚ù§Ô∏è";
 h.style.left=Math.random()*100+"vw";
 h.style.animationDuration=6+Math.random()*6+"s";
 document.body.appendChild(h);
}
</script>

<div class="page active" id="p1">
    <div class="card">
        <img class="gif" src="https://media.tenor.com/lquwmqAgQekAAAAm/bubu-dudu.webp">
        <p style="font-family:Pacifico;font-size:20px;">3 years of love‚Ä¶ prove it ‚ù§Ô∏è</p>
        <input id="pass" placeholder="Enter the magic word" style="width:100%; padding:12px; margin:15px 0; border-radius:15px; border:none; text-align:center;">
        <button class="btn" onclick="unlock()">Unlock</button>
        <div id="taana" style="color:red; margin-top:10px;"></div>
    </div>
</div>

<div class="page" id="p2">
    <div class="card">
        <img class="gif" src="https://media.tenor.com/YiMNm2QVdMoAAAAm/bubu-dudu-sseeyall.webp">
        <div id="q_text" style="font-weight:600;"></div>
        <div id="opts"></div>
    </div>
</div>

<div class="page" id="p3">
    <div class="card">
        <img class="gif" src="https://media.tenor.com/nBQQ6XM5BhIAAAAm/cute.webp">
        <h3>One last check‚Ä¶ üòâ</h3>
        <div class="btn-container">
            <button class="btn" onclick="go(4)">YES</button>
            <button class="btn" id="no-btn" onmouseover="moveNo()" onclick="moveNo()">NO I‚ÄôM NOT INTERESTED</button>
        </div>
    </div>
</div>

<div class="page" id="p4">
    <div class="card">
        <img class="gif" src="https://media.tenor.com/-3Z-ojIe5IcAAAAm/bubu-dudu-sseeyall.webp">
        <h3 id="hunt-title">The Proposal Hunt üíç</h3>
        <div id="ringCount" style="margin:10px 0;">üíç 0 / 3</div>
        <div class="grid" id="grid"></div>
    </div>
</div>

<div class="page" id="p5">
    <div class="card">
        <img class="gif" src="https://media.tenor.com/bvXwJ4I19ZQAAAAm/cat-cat-meme.webp">
        <h3>Catch My Love ‚ù§Ô∏è</h3>
        <div id="game-box"></div>
        <div class="progress-container" id="p-cont"><div id="progress-bar"></div></div>
        <button class="btn" id="start-btn" onclick="startGame()">Start Game</button>
    </div>
</div>

<div class="page" id="p6">
    <div class="card">
        <img class="gif" src="https://media.tenor.com/mbsKdEmx9V0AAAAm/bubu-cute-bubu-adorable.webp">
        <h3>A Letter For You üíå</h3>
        <div class="envelope-wrapper" id="env" onclick="this.classList.add('open')">
            <div class="envelope-flap"></div>
            <div class="letter">
                <img src="https://media.tenor.com/mbsKdEmx9V0AAAAm/bubu-cute-bubu-adorable.webp" style="width:50px; border-radius:50%">
                <p>‚ù§Ô∏è My Dear Dimple ‚ù§Ô∏è<br><br>
                These 03 Precious Years Have Been The Most Beautiful Journey Of My Life. You Are My Strength, My Happiness, And My Future.<br><br>
                - Only Yours Yuvraj üíãüíïüßø</p>
                <button class="btn" onclick="event.stopPropagation(); go(7)">Next</button>
            </div>
        </div>
    </div>
</div>

<div class="page" id="p7">
    <div class="card">
        <h3>Some Precious Moments üì∏</h3>
        <div id="photo-list">
            <img src="images/p1.jpg" class="mem-img" onclick="openModal(this.src)" onerror="this.src='https://placehold.co/400x600?text=Memory+1'">
            <img src="images/p2.jpg" class="mem-img" onclick="openModal(this.src)" onerror="this.src='https://placehold.co/400x600?text=Memory+2'">
            <img src="images/p3.jpg" class="mem-img" onclick="openModal(this.src)" onerror="this.src='https://placehold.co/400x600?text=Memory+3'">
            <img src="images/p4.jpg" class="mem-img" onclick="openModal(this.src)" onerror="this.src='https://placehold.co/400x600?text=Memory+4'">
            <img src="images/p5.jpg" class="mem-img" onclick="openModal(this.src)" onerror="this.src='https://placehold.co/400x600?text=Memory+5'">
            <img src="images/p6.jpg" class="mem-img" onclick="openModal(this.src)" onerror="this.src='https://placehold.co/400x600?text=Memory+6'">
        </div>
        <button class="btn" onclick="go(8)">One Last Thing‚Ä¶ ‚ù§Ô∏è</button>
    </div>
</div>

<div class="page" id="p8">
    <div class="card">
        <img class="gif" src="https://media.tenor.com/qGiP_qcGH3MAAAAm/peach-goma.webp">
        <h2 id="drama-q">Will you choose me? üíñ</h2>
        <div class="btn-container" style="flex-direction:column; align-items:center;">
            <button class="btn" id="yes-drama" style="font-size: 18px; order: 1;" onclick="finalYes()">YES</button>
            <button class="btn" id="no-drama" style="background:#888; order: 2;" onclick="dramaStep()">NO</button>
        </div>
    </div>
</div>

<div class="page" id="p9">
    <div class="card">
        <img class="gif" src="https://media.tenor.com/nQD8tNYfJzQAAAAm/dance-love.webp">
        <h2>I know you love me a lot! üéâ</h2>
        <p style="margin:15px 0;">You chose me again ‚Äî just like you did on April 6 & 31, 2023 üíñ</p>
        <button class="btn" onclick="location.reload()">Wanna do this again?</button>
    </div>
</div>

<div class="modal" id="modal" onclick="this.style.display='none'">
    <img id="modal-img" src="">
</div>

<script>
/* Navigation */
function go(n){
    document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
    document.getElementById("p"+n).classList.add("active");
    if(n===2) loadQ();
}

/* Page 1: Unlock */
function unlock(){
    let v = document.getElementById("pass").value.toLowerCase().trim();
    if(v==="rajkumari") go(2);
    else document.getElementById("taana").innerText = "Ghelsodi! Soch ke likh üòú";
}

/* Page 2: Quiz with Confetti */
const quiz = [
    {q:"Propose Day Par Aapka Yuvraj Se Sabse Bada Promise?", o:["Hamesha Saath Nibhana","Kabhi Jhoot Na Bolna","Dhaal Banke Khade Rehna","Gaand Maarane Gaya Sab","Inme Se Sab (Pati-Parmeshwar Ho)"],a:4},
    {q:"Can You Stay Forever With Yuvraj?", o:["No","Maybe","Yes","7 Janam","Till My Last Breath"],a:4},
    {q:"Mrs. Dimple Chauhan Banne Ki Excitement?", o:["Low","Medium","High","Dream Come True","Infinite"],a:4}
];
let qi=0;
function loadQ(){
    let curr = quiz[qi];
    document.getElementById("q_text").innerText = curr.q;
    let opts = document.getElementById("opts");
    opts.innerHTML = "";
    curr.o.forEach((t, i)=>{
        let d = document.createElement("div");
        d.className = "option"; d.innerText = t;
        d.onclick = () => {
            if(i === curr.a){
                d.classList.add("right");
                confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 }, colors: ['#6dff9a', '#ffffff'] });
                setTimeout(()=>{
                    qi++;
                    if(qi<quiz.length) loadQ(); else go(3);
                }, 800);
            } else { d.classList.add("wrong"); }
        }
        opts.appendChild(d);
    });
}

/* Page 3: Escape Button */
function moveNo(){
    let btn = document.getElementById("no-btn");
    btn.style.position = "fixed";
    btn.style.left = Math.random()*80 + "vw";
    btn.style.top = Math.random()*80 + "vh";
}

/* Page 4: Fixed Ring Hunt */
const layout = ["üí©","üí©","üíç","üí©","üíç","üí©","üí©","üí©","üíç"];
let found = 0;
const grid = document.getElementById("grid");
layout.forEach(item => {
    let d = document.createElement("div");
    d.className="cell"; d.innerText="üçÉ";
    d.onclick = () => {
        if(d.innerText !== "üçÉ") return;
        d.innerText = item;
        if(item === "üíç"){
            found++;
            document.getElementById("ringCount").innerText = `üíç ${found} / 3`;
            if(found===3) setTimeout(()=>go(5), 1000);
        }
    };
    grid.appendChild(d);
});

/* Page 5: Game Logic */
let caught = 0;
function startGame(){
    document.getElementById("start-btn").style.display = "none";
    document.getElementById("game-box").style.display = "block";
    document.getElementById("p-cont").style.display = "block";
    spawnHeart();
}
function spawnHeart(){
    if(caught >= 12) return;
    let h = document.createElement("div");
    h.className = "game-heart"; h.innerText = "‚ù§Ô∏è";
    h.style.left = Math.random()*250 + "px";
    h.style.top = "-30px";
    document.getElementById("game-box").appendChild(h);
    
    let pos = -30;
    let anim = setInterval(()=>{
        pos += 3;
        h.style.top = pos + "px";
        if(pos > 300){ clearInterval(anim); h.remove(); spawnHeart(); }
    }, 30);

    h.onclick = () => {
        caught++;
        clearInterval(anim);
        h.remove();
        document.getElementById("progress-bar").style.width = (caught/12)*100 + "%";
        if(caught >= 12) setTimeout(()=>go(6), 500);
        else spawnHeart();
    };
}

/* Page 7: Modal */
function openModal(src){
    document.getElementById("modal").style.display="flex";
    document.getElementById("modal-img").src = src;
}

/* Page 8: Drama Button */
let step = 0;
const texts = ["PLEASE", "PWEASEEE ü•∫", "ARE YOU SURE?", "THINK AGAIN üòè", "CLICK YES! ü•∫", "LAST CHANCE üí≠"];
let yesSize = 18;
function dramaStep(){
    let yes = document.getElementById("yes-drama");
    let no = document.getElementById("no-drama");
    if(step < texts.length){
        no.innerText = texts[step];
        yesSize += 30;
        yes.style.fontSize = yesSize + "px";
        step++;
    } else {
        no.style.display = "none";
        yes.style.width = "100%";
        yes.style.height = "100px";
    }
}
function finalYes(){
    confetti({ particleCount: 200, spread: 100, origin: { y: 0.6 } });
    go(9);
}
</script>

</body>
  </html>
  
