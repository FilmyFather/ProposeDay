<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Propose Day ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
/* --- CORE STYLES --- */
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif;}
body{height:100vh;overflow:hidden;background:linear-gradient(135deg,#ffd1e8,#f5d9ff,#ffe6f2);touch-action:none;}

.page{display:none;height:100%;width:100%;align-items:center;justify-content:center;padding:20px;flex-direction:column;}
.page.active{display:flex}

.card{
  width:100%;max-width:420px;background:rgba(255,255,255,.25);backdrop-filter:blur(18px);
  border-radius:28px;padding:24px;text-align:center;box-shadow:0 30px 70px rgba(0,0,0,.18);
  border:1px solid rgba(255,255,255,0.3);position:relative;
}

/* --- MUSIC UI --- */
#music-wrapper{position:fixed;top:15px;right:15px;z-index:9999;display:flex;flex-direction:column;align-items:center;touch-action:none;}
.music-box{width:70px;height:70px;border-radius:50%;backdrop-filter:blur(15px);background:rgba(255,255,255,0.1);box-shadow:0 0 20px rgba(255,105,180,0.4);display:flex;justify-content:center;align-items:center;cursor:pointer;animation:pulse 2.5s infinite;}
@keyframes pulse{0%,100%{transform:scale(1)} 50%{transform:scale(1.05)}}
.music-options{margin-top:10px;display:none;flex-direction:column;gap:5px;}
.music-options button{width:90px;padding:8px;border-radius:12px;border:1px solid rgba(255,255,255,0.3);background:rgba(255,255,255,0.2);font-size:11px;font-weight:600;cursor:pointer;}

/* --- ELEMENTS --- */
.btn{padding:14px 22px;border:none;border-radius:20px;background:linear-gradient(135deg,#ff6fb1,#ff9fd6);color:#fff;font-weight:600;cursor:pointer;margin-top:15px;}
.option{padding:12px;border-radius:18px;background:rgba(255,255,255,.45);margin-top:10px;cursor:pointer;}
.option.right{background:#6dff9a !important;}
.option.wrong{background:#ff6b6b !important;animation:shake .3s;}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:20px;}
.cell{font-size:32px;padding:18px;border-radius:16px;background:rgba(255,255,255,.45);cursor:pointer;}

/* --- PHOTO MODAL --- */
#photo-list { height: 380px; overflow-y: auto; width:100%; scrollbar-width: none;}
.mem-img { width: 100%; border-radius: 18px; margin-bottom: 20px; cursor: pointer; transition: 0.3s;}
#modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:10001; align-items:center; justify-content:center; }
#modal img { max-width:90%; max-height:80%; border-radius:10px; box-shadow:0 0 20px #fff; }

/* --- ENVELOPE --- */
.envelope-wrapper { position: relative; width: 150px; height: 100px; background: #ff9fd6; margin: 20px auto; cursor: pointer; border-radius: 0 0 10px 10px; }
.envelope-flap { position: absolute; top: 0; left: 0; border-left: 75px solid transparent; border-right: 75px solid transparent; border-top: 60px solid #ff6fb1; transform-origin: top; transition: 0.6s; z-index: 3; }
.letter { position: absolute; bottom: 5px; left: 5px; width: 140px; height: 80px; background: #fff; padding: 15px; border-radius: 5px; transition: 0.8s; z-index: 2; overflow: hidden; font-family: 'Pacifico'; font-size:12px;}
.envelope-wrapper.open .envelope-flap { transform: rotateX(180deg); z-index: 1; }
.envelope-wrapper.open .letter { transform: translateY(-130px); height: 260px; width: 280px; left: -65px; z-index: 5; font-size: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); overflow-y: auto;}

@keyframes shake{ 0%,100%{transform:translateX(0)} 25%{transform:translateX(-6px)} 75%{transform:translateX(6px)} }
</style>
</head>
<body>

<audio id="bgMusic" loop preload="auto">
    <source src="http://ddl.safone.vip/4422238/Finding_Her_x_Dooron_Dooron_Mashup_Full_Version_Kushagra_Paresh.mp3?hash=AgADnS" type="audio/mpeg">
</audio>

<div id="music-wrapper">
    <div class="music-box" onclick="toggleM()"><span>üéß</span></div>
    <div class="music-options" id="mMenu">
        <button onclick="sV(0.2)">LOW</button>
        <button onclick="sV(0.5)">MID</button>
        <button onclick="sV(1.0)">HIGH</button>
        <button onclick="sV(0)">MUTE</button>
    </div>
</div>

<div class="page active" id="p1">
    <div class="card">
        <img src="https://media.tenor.com/lquwmqAgQekAAAAm/bubu-dudu.webp" style="width:100px;">
        <p style="font-family:Pacifico; font-size:22px; color:#ff6fb1">3 years of love‚Ä¶ ‚ù§Ô∏è</p>
        <input id="ps" type="text" placeholder="Magic word..." style="width:100%; padding:12px; margin:15px 0; border:none; border-radius:15px; text-align:center;">
        <button class="btn" onclick="unl()">Unlock</button>
        <div id="tn" style="margin-top:10px; color:#d63384; font-weight:600;"></div>
        <div id="ht" style="display:none; margin-top:10px; font-size:12px; border:1px dashed #ff6fb1; padding:10px;">Hint: Agar Yuvraj Rajkumar hai... toh tum kya ho?</div>
    </div>
</div>

<div class="page" id="p2">
    <div class="card">
        <p id="q_t" style="font-weight:600; margin-bottom:15px;"></p>
        <div id="q_o"></div>
    </div>
</div>

<div class="page" id="p3">
    <div class="card">
        <h3>One last check‚Ä¶ üòâ</h3>
        <div style="display:flex; gap:15px; margin-top:20px; justify-content:center;">
            <button class="btn" onclick="go(4)">YES</button>
            <button class="btn" id="nb" onmouseover="dg()">NO</button>
        </div>
    </div>
</div>

<div class="page" id="p4">
    <div class="card">
        <h3>The Proposal Hunt üíç</h3>
        <p id="rc" style="margin:10px 0;">üíç 0 / 3</p>
        <div class="grid" id="rg"></div>
    </div>
</div>

<div class="page" id="p5">
    <div class="card">
        <h3>Catch My Love ‚ù§Ô∏è</h3>
        <div id="game-box" style="width:280px; height:300px; border:2px dashed #ff6fb1; position:relative; overflow:hidden; margin:10px auto; display:none;"></div>
        <button class="btn" id="gs" onclick="stG()">Start Game</button>
    </div>
</div>

<div class="page" id="p6">
    <div class="card">
        <div class="envelope-wrapper" onclick="this.classList.add('open')">
            <div class="envelope-flap"></div>
            <div class="letter">
                <p>‚ù§Ô∏è My Dear Dimple ‚ù§Ô∏è<br><br>
                These 03 Precious Years Have Been The Most Beautiful Journey Of My Life. You Are My Strength, My Happiness, And My Future.<br><br>
                - Only Yours Yuvraj üíãüíïüßø</p><br>
                <button class="btn" onclick="event.stopPropagation(); go(7)">Next</button>
            </div>
        </div>
    </div>
</div>

<div class="page" id="p7">
    <div class="card">
        <h3 style="margin-bottom:10px;">Precious Moments üì∏</h3>
        <div id="photo-list">
            <img src="images/p1.jpg" class="mem-img" onclick="oF(this.src)" onerror="this.src='https://placehold.co/400x500?text=Moment+1'">
            <img src="images/p2.jpg" class="mem-img" onclick="oF(this.src)" onerror="this.src='https://placehold.co/400x500?text=Moment+2'">
            <img src="images/p3.jpg" class="mem-img" onclick="oF(this.src)" onerror="this.src='https://placehold.co/400x500?text=Moment+3'">
            <img src="images/p4.jpg" class="mem-img" onclick="oF(this.src)" onerror="this.src='https://placehold.co/400x500?text=Moment+4'">
            <img src="images/p5.jpg" class="mem-img" onclick="oF(this.src)" onerror="this.src='https://placehold.co/400x500?text=Moment+5'">
            <img src="images/p6.jpg" class="mem-img" onclick="oF(this.src)" onerror="this.src='https://placehold.co/400x500?text=Moment+6'">
        </div>
        <button class="btn" onclick="go(8)">One Last Thing‚Ä¶ ‚ù§Ô∏è</button>
    </div>
</div>

<div class="page" id="p8">
    <div class="card">
        <h2 id="fq">Will you choose me? üíñ</h2>
        <div style="display:flex; flex-direction:column; align-items:center;">
            <button class="btn" id="yb" onclick="fin()" style="font-size:18px;">YES</button>
            <button class="btn" id="db" onclick="dr()" style="background:#999;">NO</button>
        </div>
    </div>
</div>

<div class="page" id="p9">
    <div class="card">
        <img src="https://media.tenor.com/nQD8tNYfJzQAAAAm/dance-love.webp" style="width:100px;">
        <h2>I know you love me! üéâ</h2>
        <p>April 6 & 31, 2023 ‚ù§Ô∏è</p>
        <button class="btn" onclick="location.reload()">Restart</button>
    </div>
</div>

<div id="modal" onclick="this.style.display='none'"><img id="mI"></div>

<script>
const audio = document.getElementById("bgMusic");
const menu = document.getElementById("mMenu");

/* DRAG */
const wr = document.getElementById("music-wrapper");
let isD=false, oX, oY;
wr.onpointerdown=(e)=>{if(e.target.tagName==='BUTTON')return; isD=true; oX=e.clientX-wr.offsetLeft; oY=e.clientY-wr.offsetTop; wr.setPointerCapture(e.pointerId);};
wr.onpointermove=(e)=>{if(!isD)return; wr.style.left=(e.clientX-oX)+"px"; wr.style.top=(e.clientY-oY)+"px"; wr.style.right="auto";};
wr.onpointerup=()=>{isD=false;};

/* MUSIC */
function toggleM(){ menu.style.display=(menu.style.display==='flex')?'none':'flex'; }
function sV(v){ if(v===0) audio.pause(); else { audio.volume=v; if(audio.paused) audio.play(); } menu.style.display='none'; }

/* UNLOCK */
let tr=0; const ta=["Ghelsodi!","Dhapudi!","Bhilan!","Wagri!","Gaandu!"];
function unl(){
    if(document.getElementById("ps").value.toLowerCase().trim()==="rajkumari"){
        confetti(); audio.currentTime=62; audio.play(); go(2);
    } else { document.getElementById("tn").innerText=ta[Math.min(tr,4)]; tr++; if(tr>=5) ht.style.display="block"; }
}

/* NAVIGATION */
function go(n){ document.querySelectorAll(".page").forEach(p=>p.classList.remove("active")); document.getElementById("p"+n).classList.add("active"); if(n===2) bQ(); }

/* QUIZ */
const qArr=[
    {q:"Propose Day Par Aapka Sabse Bada Promise?", o:["Saath Nibhana","Kabhi Jhoot Na Bolna","Dhaal Banna","I Don't Care","Inme Se Sab (Pati-Parmeshwar Ho)"],a:4},
    {q:"Can You Stay Forever With Yuvraj?", o:["No","Maybe","Yes","7 Janam","Till My Last Breath"],a:4},
    {q:"Mrs. Dimple Chauhan Banne Ki Excitement?", o:["Low","Medium","High","Dream Come True","Infinite"],a:4}
];
let qI=0;
function bQ(){
    let q=qArr[qI]; document.getElementById("q_t").innerText=q.q;
    let b=document.getElementById("q_o"); b.innerHTML="";
    q.o.forEach((t,i)=>{
        let d=document.createElement("div"); d.className="option"; d.innerText=t;
        d.onclick=()=>{ if(i===q.a){ confetti({colors:['#4b0082','#ff0080']}); qI++; if(qI<qArr.length) bQ(); else go(3); } else d.classList.add("wrong"); };
        b.appendChild(d);
    });
}

/* PHOTO MODAL */
function oF(s){ document.getElementById("modal").style.display="flex"; document.getElementById("mI").src=s; }

/* HEART GAME (RAIN FIX) */
let sc=0;
function stG(){ gs.style.display="none"; document.getElementById("game-box").style.display="block"; setInterval(spH, 1000); }
function spH(){
    if(sc>=12) return;
    for(let i=0; i<3; i++){ // Spawns 3 hearts at once
        setTimeout(()=>{
            let h=document.createElement("div"); h.innerText="‚ù§Ô∏è"; h.style.position="absolute"; h.style.left=Math.random()*250+"px"; h.style.top="-30px"; h.style.fontSize="25px"; h.style.cursor="pointer";
            document.getElementById("game-box").appendChild(h);
            let t=-30; let f=setInterval(()=>{ t+=4; h.style.top=t+"px"; if(t>300){ clearInterval(f); h.remove(); } },30);
            h.onclick=()=>{ sc++; h.remove(); if(sc>=12) go(6); };
        }, i*300);
    }
}

/* NO DODGE & DRAMA */
function dg(){ let b=document.getElementById("nb"); b.style.position="fixed"; b.style.left=Math.random()*80+"vw"; b.style.top=Math.random()*80+"vh"; }
let dS=0; const dT=["PLEASE","PWEASEEE","SURE?","THINK AGAIN","YES DABAO!","LAST CHANCE"]; let yz=18;
function dr(){ let y=document.getElementById("yb"); let d=document.getElementById("db"); if(dS<dT.length){ d.innerText=dT[dS]; yz+=35; y.style.fontSize=yz+"px"; dS++; } else { d.style.display="none"; y.style.width="100%"; } }
function fin(){ confetti(); go(9); }

/* HUNT */
const rm=["üí©","üí©","üíç","üí©","üíç","üí©","üí©","üí©","üíç"]; let rf=0;
rm.forEach(i=>{ let c=document.createElement("div"); c.className="cell"; c.innerText="üçÉ"; c.onclick=()=>{ if(c.innerText!=="üçÉ")return; c.innerText=i; if(i==="üíç"){ rf++; rc.innerText=`üíç ${rf} / 3`; if(rf===3) setTimeout(()=>go(5),800); } }; rg.appendChild(c); });
</script>
</body>
  </html>
  
